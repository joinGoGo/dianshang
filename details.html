<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" href="css/index.css">
        <link rel="stylesheet" href="css/header.css">
         <link rel="stylesheet" href="css/footer.css">
         <link rel="stylesheet" href="//at.alicdn.com/t/font_865838_bs9o5113td6.css">
         <link rel="stylesheet" href="//at.alicdn.com/t/font_865930_cp5flje8a3p.css">
         <link rel="stylesheet" href="//at.alicdn.com/t/font_863509_82rrz97u6it.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.4.0/css/swiper.min.css">
        <link rel="stylesheet" href="//at.alicdn.com/t/font_867020_2m1wc1m9d5o.css">
        <link href="juan_03.ico" type="image/x-icon" rel="shortcut icon"/>
        <link rel="stylesheet" href="css/details.css">
        <title>小黄鱼,隔壁的小孩都馋哭了</title>
    </head>
    <body>
    <div class="header">
        
    </div>
 <!-- 主体 -->
    <div class="x_main">
        <div class="dirctory">
        <a href="index.html">首页></a>
        <a href="">美食></a>
        <a href="">香酥小黄鱼200g</a>
    </div>
    <div class="uper">
    返回顶部
</div>
    <!-- 缩略图 -->
    <div class="thumb">
        <div class="box">
      <div class="show-image">
        <img src="images/01_big.jpg" alt="">
        <span class="filter"></span>
      </div>
      <div class="show-big-image">
          <img src="images/01_largest.jpg" alt="" id="big-image">
      </div>
      <ul class="img-box">
        <li class="active"><img src="images/01_small.jpg" alt=""></li>
        <li><img src="images/02_small.jpg" alt=""></li>
         <li><img src="images/03_small.jpg" alt=""></li>
          <li><img src="images/04_small.jpg" alt=""></li>
      </ul>
    </div>
    <script>
        var big = (function(){
        
          return {
            init: function() {
              
              this.$box = document.querySelector('.box');
           
              this.$showImage = this.$box.querySelector('.show-image');
             
              this.$showBigImage = this.$box.querySelector('.show-big-image');
             
              this.$bigImage = this.$showBigImage.firstElementChild;
            
              this.$ulbox = this.$box.querySelector('.img-box');
             
              this.$liAll = this.$ulbox.children;
             
              this.$filter = this.$showImage.querySelector('.filter');
              
              for(var i = 0; i < this.$liAll.length; i++) {
                this.$liAll[i].index = i;
              }

              this.event();

            },
            event: function() {
              var _this = this;
             
              this.$ulbox.onclick = function(ev) {
                ev = ev || window.event;
                
                var target = ev.target || ev.srcElement;
               
                if(target.nodeName == 'IMG') {
                  _this.showImage(target.parentNode.index);
                }

              }

              
              this.$showImage.onmouseenter = function() {
              
                _this.$filter.style.display = 'block';
               
                _this.$showBigImage.style.display = 'block';
                
                _this.maxX = this.clientWidth - _this.$filter.offsetWidth;
                _this.maxY = this.clientHeight - _this.$filter.offsetHeight;
              }
              this.$showImage.onmouseleave = function() {
                _this.$filter.style.display = 'none';
                _this.$showBigImage.style.display = 'none';
              }
              
              this.$showImage.onmousemove = function(ev) {
               
                var x = ev.pageX -  _this.$filter.offsetWidth / 2 - _this.$showImage.offsetLeft;
                var y = ev.pageY -_this.$filter.offsetHeight / 2 - _this.$showImage.offsetTop;
               
                if(x < 0) {
                  x = 0;
                } else if(x > _this.maxX) {
                  x = _this.maxX;
                }
                if(y < 0) {
                  y = 0;
                } else if(y > _this.maxY) {
                  y = _this.maxY;
                }
                _this.$filter.style.left = x + 'px';
                _this.$filter.style.top = y + 'px';

              
                _this.$bigImage.style.left = x * -3 + 'px';
                _this.$bigImage.style.top = y * -3 + 'px';

              }
              
            },
            showImage: function(index) {
              for(var i = 0; i < this.$liAll.length; i++) {
                this.$liAll[i].removeAttribute('class');
              }
              this.$liAll[index].className = 'active';
             
              var src = this.$liAll[index].firstElementChild.src;
              this.$showImage.firstElementChild.src = src.replace('small', 'big');
              this.$bigImage.src = src.replace('small', 'largest')
              console.log(src);
            }
            
          }
          
        }())
        big.init();

    </script>
    </div>
   <!-- 商品介绍 -->
  
   <div class="introduce">
       <h2>休闲零食小鱼干小鱼仔即食小吃鱼片香酥小黄鱼200g</h2>
       <div class="price">
           <h3>&nbsp; ¥35.9</h3>
           <h4>参考价:¥99</h4>
           <h5>&nbsp;促销:&nbsp;&nbsp;满99元减50,上不封顶 详情>></h5>
           <p>&nbsp;领券:&nbsp;&nbsp;满5减5</p>
       </div>
        <div class="buy">
            <div class="rule">
            <p>尺码:</p>
            <div>200G</div>
            </div>
            <div class="count">
                <div class="count_1">数量:</div>
                <div class="jia_jian">
                    
                    <p>
                        <i class="decrease">-</i>
                        <input type="text" value="1" autocomplete="off">
                        <i class="increase">+</i>
                    </p>
                </div>
            </div>
           <div class="click_buy"> 
           <input type="button" name="" id="" value="立即购买">
            <input type="button" name="" id="" value="加入购物车">
            </div>
        </div>
       </div>
    </div>
   <!-- 图片展示 -->
   <div class="img_show">
       <div>
       <img src="images/yu1.jpg" alt="">
       <img src="images/yu2.jpg" alt="">
        <img src="images/yu3.jpg" alt="">
       <img src="images/yu4.jpg" alt="">
        <img src="images/yu5.jpg" alt="">
       <img src="images/yu6.jpg" alt="">
        <img src="images/yu7.jpg" alt="">
       <img src="images/yu8.jpg" alt="">
       </div>

   </div>
    <div class="bottom">
          
    </div>
    <div class="side_r"></div>
   <!-- 改变滚轮高度,显示隐藏元素 -->
<div class="scrol_nav">
      <ul>
            <li> <a href="login.html">商品详情</a> </li>
            <li><a href="register.html">商品规格</a></li>
            <li><a href="">物流与售后</a></li>
            <li><a href="">消费保障</a></li>
            <li> <a href="">手机购买</a>  </li>
            <li> ¥35.9</li>
            <li class="car">加入购物车</li>
        </ul>
</div>



<script>
     var $uper = document.querySelector('.uper');
     
      window.onscroll = function() {
                        
                       var top = document.documentElement.scrollTop;
                       // console.log(top);
                      var $scrol_nav = document.querySelector('.scrol_nav');
                       if(top >= 900) {
                         $scrol_nav.style.display = 'block';
                         $uper.style.display = 'block';
                       } else {
                         $scrol_nav.style.display = 'none';
                         $uper.style.display = 'none';
                       }
                   }
 
 
                     $uper.onclick = function() {
                         var time = setInterval(function() {
                           var _top = document.documentElement.scrollTop - 10;
                           if(_top <= 0) {
                              _top = 0;
                              clearInterval(time);
                           }
                           document.documentElement.scrollTop =  _top;
                       }, 10);
                   }
</script>
    <!-- <script src="js/back_top.js"></script> -->
 
    <script src="js/jquery.min.js"></script>
        
    <script>
    $('.header').load('index.html .public_top');
    $('.bottom').load('index.html .footer');
    $('.side_r').load('index.html .side_right' );
    </script>


    </body>
</html>